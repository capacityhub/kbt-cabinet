(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0433b54e"],{"0a49":function(e,r,t){var i=t("9b43"),n=t("626a"),a=t("4bf8"),o=t("9def"),s=t("cd1c");e.exports=function(e,r){var t=1==e,l=2==e,c=3==e,u=4==e,f=6==e,g=5==e||f,p=r||s;return function(r,s,m){for(var d,v,h=a(r),b=n(h),w=i(s,m,3),x=o(b.length),_=0,U=t?p(r,x):l?p(r,0):void 0;x>_;_++)if((g||_ in b)&&(d=b[_],v=w(d,_,h),e))if(t)U[_]=v;else if(v)switch(e){case 3:return!0;case 5:return d;case 6:return _;case 2:U.push(d)}else if(u)return!1;return f?-1:c||u?u:U}}},1169:function(e,r,t){var i=t("2d95");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"268f":function(e,r,t){e.exports=t("fde4")},"28a5":function(e,r,t){t("214f")("split",2,function(e,r,i){"use strict";var n=t("aae3"),a=i,o=[].push,s="split",l="length",c="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[l]||2!="ab"[s](/(?:ab)*/)[l]||4!="."[s](/(.?)(.?)/)[l]||"."[s](/()()/)[l]>1||""[s](/.?/)[l]){var u=void 0===/()??/.exec("")[1];i=function(e,r){var t=String(this);if(void 0===e&&0===r)return[];if(!n(e))return a.call(t,e,r);var i,s,f,g,p,m=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,h=void 0===r?4294967295:r>>>0,b=new RegExp(e.source,d+"g");u||(i=new RegExp("^"+b.source+"$(?!\\s)",d));while(s=b.exec(t)){if(f=s.index+s[0][l],f>v&&(m.push(t.slice(v,s.index)),!u&&s[l]>1&&s[0].replace(i,function(){for(p=1;p<arguments[l]-2;p++)void 0===arguments[p]&&(s[p]=void 0)}),s[l]>1&&s.index<t[l]&&o.apply(m,s.slice(1)),g=s[0][l],v=f,m[l]>=h))break;b[c]===s.index&&b[c]++}return v===t[l]?!g&&b.test("")||m.push(""):m.push(t.slice(v)),m[l]>h?m.slice(0,h):m}}else"0"[s](void 0,0)[l]&&(i=function(e,r){return void 0===e&&0===r?[]:a.call(this,e,r)});return[function(t,n){var a=e(this),o=void 0==t?void 0:t[r];return void 0!==o?o.call(t,a,n):i.call(String(a),t,n)},i]})},"32a6":function(e,r,t){var i=t("241e"),n=t("c3a1");t("ce7e")("keys",function(){return function(e){return n(i(e))}})},"70c2":function(e,r,t){"use strict";t.r(r);var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"120px",rules:e.rules,disabled:e.disableAll}},[t("div",{staticClass:"form-title"},[e._v("基本信息")]),e._v(" "),t("el-form-item",{attrs:{label:"应用名称",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入名称",maxlength:"20"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}}),e._v(" "),t("div",{staticClass:"input-info-text"},[e._v("长度不可超过20个字符")])],1),e._v(" "),t("el-form-item",{attrs:{label:"应用简介",prop:"profile"}},[t("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入应用简介",maxlength:"100"},model:{value:e.form.profile,callback:function(r){e.$set(e.form,"profile",r)},expression:"form.profile"}}),e._v(" "),t("div",{staticClass:"input-info-text"},[e._v("长度不可超过100个字符")])],1),e._v(" "),t("el-form-item",{attrs:{label:"应用来源",prop:"channel"}},[t("el-input",{attrs:{placeholder:"请输入应用来源",maxlength:"20"},model:{value:e.form.channel,callback:function(r){e.$set(e.form,"channel",r)},expression:"form.channel"}}),e._v(" "),t("div",{staticClass:"input-info-text"},[e._v("长度不可超过20个字符")])],1),e._v(" "),t("div",{staticClass:"form-line"}),e._v(" "),t("div",{staticClass:"form-title"},[e._v("应用信息")]),e._v(" "),t("el-form-item",{attrs:{label:"应用首页地址",prop:"applicationUrl"}},[t("el-input",{attrs:{placeholder:"请输入地址，如http://www.baidu.com"},model:{value:e.form.applicationUrl,callback:function(r){e.$set(e.form,"applicationUrl",r)},expression:"form.applicationUrl"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"发布类型",prop:"onlineType"}},[t("el-radio-group",{model:{value:e.form.onlineType,callback:function(r){e.$set(e.form,"onlineType",r)},expression:"form.onlineType"}},[t("el-radio",{attrs:{label:"0"}},[e._v("手动上架")])],1)],1),e._v(" "),t("div",{staticClass:"form-line"}),e._v(" "),t("div",{staticClass:"form-title"},[e._v("图标素材")]),e._v(" "),t("el-form-item",{attrs:{label:"应用图标",required:!0}},[t("el-upload",{class:e.showLogoWarning?"logo-upload logo-upload-warning":"logo-upload",attrs:{action:e.uploadFileUrl,"show-file-list":!1,"on-success":e.logoUploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeLogoUpload}},[e.form.logoUrl?t("img",{attrs:{src:e.form.logoUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),e.form.logoUrl&&!e.disableAll?t("div",{staticClass:"logo-update"},[e._v("修改")]):e._e()]),e._v(" "),e.showLogoWarning?t("div",{staticClass:"logo-warning"},[e._v(e._s(e.showLogoWarning))]):e._e(),e._v(" "),t("div",{staticClass:"img-prompt"},[e._v("图片格式必须为bmp、jpeg、jpg、png，大小在200k以内，建议图片尺寸为152*152")])],1),e._v(" "),!e.disableAll||e.disableAll&&e.imageUrl[0]?t("el-form-item",{attrs:{label:"应用预览图",required:!0}},[t("div",{staticClass:"preview-img"},e._l(e.imageUrl,function(r,i){return!e.disableAll||e.disableAll&&""!=r?t("el-upload",{key:i,class:e.showPreviewWarning?"img-upload logo-upload-warning":"img-upload",attrs:{action:e.uploadFileUrl,multiple:!1,"show-file-list":!1,"on-success":function(r){return e.handleImgSuccess(r,i)},"on-error":e.uploadError,"before-upload":e.beforeImgUpload}},[e.imageUrl[i]?t("img",{attrs:{src:e.imageUrl[i]}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),e.imageUrl[i]&&!e.disableAll?t("div",{staticClass:"img-delete",on:{click:function(r){r.stopPropagation(),e.deleteImg(i)}}},[e._v("删除")]):e._e()]):e._e()})),e._v(" "),e.showPreviewWarning?t("div",{staticClass:"logo-warning"},[e._v(e._s(e.showPreviewWarning))]):e._e(),e._v(" "),t("div",{staticClass:"img-prompt"},[e._v("图片格式必须为bmp、jpeg、jpg、png，不可大于2M，建议图片尺寸为480*800或720*1280")])]):e._e()],1)},n=[],a=(t("6b54"),t("28a5"),t("7f7f"),t("7514"),t("cebc")),o=t("365c"),s=t("2f62"),l={name:"app-info",data:function(){return{form:{},arranges:[{id:0,name:"热门应用"},{id:1,name:"系统应用"}],uploadFileUrl:o["bb"],imageUrl:[""],rules:{name:[{required:!0,message:"请输入应用名称",trigger:"blur"},{max:20,message:"长度不可超出20个字符",trigger:"blur"}],applicationUrl:[{required:!0,message:"请输入应用地址",trigger:"blur"}],profile:[{required:!0,message:"请输入应用简介",trigger:"blur"},{max:100,message:"长度不可超出100个字符",trigger:"blur"}],channel:[{required:!0,message:"请选择应用来源",trigger:"blur"},{max:20,message:"长度不可超出20个字符",trigger:"blur"}],onlineType:[{required:!0,message:"请选择上线类型",trigger:"change"}]},showLogoWarning:"",showPreviewWarning:"",disableAll:!1}},props:["formData","disabled"],created:function(){this.disabled?this.disableAll=this.disabled:this.getArrangeLists(),this.form=this.formData,this.setData()},watch:{formData:{handler:function(e,r){this.form=e,this.setData()},deep:!0}},computed:Object(a["a"])({},Object(s["d"])({arrangeList:function(e){return e.arrange.arrangeList}}),{getArrangeName:function(){var e=this,r=this.arranges.find(function(r){return r.id==e.form.arrangeId});return r.name}}),methods:Object(a["a"])({},Object(s["b"])({GetArrangeList:"arrange/GetArrangeList"}),{setData:function(){this.form.previewImg&&""!=this.form.previewImg&&(this.imageUrl=this.form.previewImg.split(";").filter(function(e){return""!=e})),this.$set(this.form,"onlineType",this.form.onlineType.toString()),this.form.arrangeId||this.$set(this.form,"arrangeId",this.arranges[0].id)},getArrangeLists:function(){var e=this;this.GetArrangeList().then(function(r){200==r&&(e.arranges=e.arrangeList)})},logoUploadSuccess:function(e,r){this.form.logoUrl=e.result,this.showLogoWarning=""},beforeLogoUpload:function(e){var r=e.type,t=-1!=r.indexOf("jpeg")||-1!=r.indexOf("jpg")||-1!=r.indexOf("png")||-1!=r.indexOf("bmp"),i=e.size/1024<200;return t||(this.showLogoWarning="上传的图片必须是png,jpg,jpeg，bmp格式"),i||(this.showLogoWarning="上传的图片大小不能超过200KB"),t&&i},handleImgSuccess:function(e,r){this.$set(this.imageUrl,r,e.result),this.imageUrl.length>0&&(this.form.previewImg=this.imageUrl.join(";"))},beforeImgUpload:function(e){var r=e.type,t=-1!=r.indexOf("jpeg")||-1!=r.indexOf("jpg")||-1!=r.indexOf("png")||-1!=r.indexOf("bmp"),i=e.size/1024/1024<2;return t||this.$message.error("上传的图片必须是png,jpg,jpeg，bmp格式之一!"),i||this.$message.error("上传的图片大小不能超过2M!"),t&&i},uploadError:function(e,r,t){this.$message.error("上传图片失败!")},setArrangeName:function(e){this.form.arrangeName=this.getArrangeName},deleteImg:function(e){this.imageUrl.splice(e,1,""),this.form.previewImg=this.imageUrl.join(";")},logoImgCheck:function(){this.showLogoWarning="请上传应用图标"},previewCheck:function(){this.showPreviewWarning="请上传应用预览图"},checkForm:function(){var e=!1;this.$refs["form"].validate(function(r){e=!!r});var r=""!=this.form.logoUrl,t=""!=this.form.previewImg;return r||this.logoImgCheck(),t||this.previewCheck(),r&&t&&e},checkDraftForm:function(){var e=!1;this.$refs["form"].validateField(["name","applicationUrl"],function(r){console.log("draft -valid :",r),e=""==r});var r=""!=this.form.logoUrl;return r||this.logoImgCheck(),e&&r}})},c=l,u=(t("73a9"),t("0c7c")),f=Object(u["a"])(c,i,n,!1,null,null,null);r["default"]=f.exports},7213:function(e,r,t){},"73a9":function(e,r,t){"use strict";var i=t("7213"),n=t.n(i);n.a},7514:function(e,r,t){"use strict";var i=t("5ca1"),n=t("0a49")(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),t("9c6c")(a)},"8aae":function(e,r,t){t("32a6"),e.exports=t("584a").Object.keys},a4bb:function(e,r,t){e.exports=t("8aae")},bf90:function(e,r,t){var i=t("36c3"),n=t("bf0b").f;t("ce7e")("getOwnPropertyDescriptor",function(){return function(e,r){return n(i(e),r)}})},cd1c:function(e,r,t){var i=t("e853");e.exports=function(e,r){return new(i(e))(r)}},ce7e:function(e,r,t){var i=t("63b6"),n=t("584a"),a=t("294c");e.exports=function(e,r){var t=(n.Object||{})[e]||Object[e],o={};o[e]=r(t),i(i.S+i.F*a(function(){t(1)}),"Object",o)}},cebc:function(e,r,t){"use strict";t.d(r,"a",function(){return u});var i=t("268f"),n=t.n(i),a=t("e265"),o=t.n(a),s=t("a4bb"),l=t.n(s),c=t("bd86");function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},i=l()(t);"function"===typeof o.a&&(i=i.concat(o()(t).filter(function(e){return n()(t,e).enumerable}))),i.forEach(function(r){Object(c["a"])(e,r,t[r])})}return e}},e265:function(e,r,t){e.exports=t("ed33")},e853:function(e,r,t){var i=t("d3f4"),n=t("1169"),a=t("2b4c")("species");e.exports=function(e){var r;return n(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)||(r=void 0),i(r)&&(r=r[a],null===r&&(r=void 0))),void 0===r?Array:r}},ed33:function(e,r,t){t("014b"),e.exports=t("584a").Object.getOwnPropertySymbols},fde4:function(e,r,t){t("bf90");var i=t("584a").Object;e.exports=function(e,r){return i.getOwnPropertyDescriptor(e,r)}}}]);